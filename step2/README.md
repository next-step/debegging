# 📂 Step2. 파일 업로드 진행률 버그 디버깅 실습 가이드

# 🎯 학습 목표

파일 업로드 진행률 표시 기능의 버그를 발견하고 수정하는 과정을 경험한다.

# 🏃🏻 핵심 경험

실제 개발 상황과 유사한 시나리오에서 디버깅 과정을 체계적으로 진행하는 경험을 한다.

# 📝 실습 가이드

## 0. 실습 시나리오

### [버그 리포트]

**제목**: 파일 업로드 진행률 표시 오류

**설명**:
파일 업로드 기능 테스트 중 진행률 표시에 오류가 있음을 발견하였습니다. 업로드가 완료되어도 진행률 표시가 100%에 도달하지 않고, 실제 업로드된 용량과 표시되는 진행률이 일치하지 않는 문제가 발생합니다. 사용자에게 정확한 업로드 진행 상황을 제공하기 위해 진행률 표시 로직을 수정해야 합니다.

## 1. 개발 환경 설정

### 1. step2 디렉토리 이동 및 의존성 설치

- step2 디렉토리로 이동합니다.
- 터미널에서 다음 명령어를 실행하여 프로젝트의 의존성을 설치합니다.

```bash
npm install
```

## 2. 서버 실행

터미널에서 다음 명령어를 실행하여 서버를 실행합니다.

```bash
npm run dev
```

## 3. 브라우저에서 파일 업로드 테스트

- index.html 파일을 브라우저에서 엽니다.
- "파일 선택" 버튼을 클릭하여 파일을 선택합니다.
- "업로드" 버튼을 클릭하여 파일 업로드를 시작합니다.
- 브라우저 개발자 도구(F12)의 네트워크 탭에서 요청 및 응답을 확인합니다.
- 진행률 표시가 정상적으로 업데이트되는지, 업로드 완료 시 100%에 도달하는지 확인합니다.

## 4. 디버깅 마인드셋 템플릿을 활용한 문제 해결

이제 디버깅 마인드셋 템플릿을 활용하여 파일 업로드 검증 로직의 버그를 단계적으로 파악하고 해결해보겠습니다. 각 단계에서 어떤 작업을 수행해야 하는지 가이드를 제공하니, 실제로 문제를 해결하는 과정은 여러분이 직접 수행해보시기 바랍니다.

### Step 1: 문제 정의

현재 풀고자 하는 문제를 한 문장으로 명확하게 정의해보세요.

### Step 2: 올바른 동작 정의

파일 업로드 기능이 올바르게 동작한다면 어떤 일이 벌어져야 하는지 정의해보세요. 이를 명확하게 정의하기 위해 올바른 동작을 given, when, then 형식으로 기술해보세요.

### Step 3: 최소 재현 환경 구축

문제가 발생한 시점을 정확히 확인 후 내 환경에서 문제를 직접 재현하기 위해 노력해보세요. 그리고 문제가 있는 부분을 격리시켜보세요.

### Step 4: 재현 환경 관찰 및 비교

재현 환경에서 벌어지는 일을 유심히 관찰해보세요. 그리고 재현 환경과 정상 동작의 차이점을 관찰하고, 관찰한 내용을 적어보세요.

### Step 5: 차이를 발생시키는 원인 옵션 도출

Step 4에서 관찰한 차이를 발생시키는 원인이 될 만한 옵션들을 자유롭게 적어보세요. 옵션을 적기 어렵다면 추가 정보를 수집해보세요.

### Step 6: 가설 설정 및 검증

Step 5에서 도출한 옵션 중 하나를 선택하여 검증 가능한 가설을 세워보세요. 그리고 코드에 작은 변경을 가하면서 가설대로 현상이 변하는지 관찰해보세요.

만약 가설이 틀렸다면 그 이유를 적어보고, 다른 가설로 넘어가 반복해보세요.

<details>
<summary>힌트</summary>

- updateProgress 함수가 업로드 완료 시점에 호출되는지 확인해보세요.
- uploadedBytes 변수가 업로드된 청크 크기만큼 정확하게 증가하는지 확인해보세요.
- totalSize 값이 실제 파일 크기와 일치하는지 확인해보세요.

</details>

### Step 7: 문제 해결 및 공유

근본 원인이 파악되었다면 문제 해결의 우선순위를 정하고 문제를 해결해보세요.
